# IoT用センサ端末プログラム自動生成/開発環境

学生のIoTに関する実習，企業などの業務におけるIoTの実験において，センサ端末を0から作るコストは非常に大きい．

一般的にArduinoの周辺回路のデバイスドライバに相当するライブラリに統一的なAPIは整っておらず，似て非なるプログラム(Arduinoのスケッチ)を
何度も作ることになる．すると，センサ端末を作る開発者(想定する状況では学生やマイコン非専門家の企業の従業員)がICのデータシートを
見ながら開発を行う必要があり，これは非常に困難である．

また，ハードウェアもセンサの回路をはんだ付けする必要があり，この作業に必要な知識や工数も無視できない．

これらの負担を軽減するため，
はんだ付けや複雑な配線(ブレッドボードやジャンパピンの利用)無しにハードウェアを作成可能なArduinoとSeeed Studio Grove Systemを用い，
利用する機能やセンサの種類を定義したファイルからセンサ端末のプログラムを生成するセンサ端末開発環境がこのプロジェクトである．


## 本プロジェクトで想定する役割分担
実際にIoTの仕組みを動作させるためには，実際に何かの測定をするセンサ端末とその端末をつなげるネットワークおよびセンサ端末が
測定データをアップロードするサーバの3種類が必要になる．

このシステム全体を組み上げる作業を，センサ端末の開発者とシステム全体を統括する管理者で分担する．

センサ端末の開発者は，管理者から配布されたほぼ組み立て済みのArduino(もしくは互換機)に
センサを取り付け，センサ端末のソフトウェアを生成して動作確認する役割を想定する．

そのため，管理者はネットワークとサーバ(IoTゲートウェイ)のセットアップと運用以外に，
センサ端末の作成に必要な部材の調達や，Arduino本体にセンサ以外の周辺回路の組付け
までの作業を行うことを基本の考え方としている．


## センサ端末のソフトウェア開発の手順
本開発環境では，センサ端末を構成するArduinoの機種や周辺回路に用いるハードウェアの種類，センサの情報(yaml形式ファイル)を
入力すると，定義すべき項目の一覧表(yaml形式ファイル)が出力される．

このyamlを編集し，各種のパラメータをターゲットのセンサ端末の値に変更して，再度本開発環境のプログラムに
入力すると，Arduinoのスケッチが生成される．

センサ端末を作成する開発者(開発環境のユーザ)は，IoTシステム全体を管理する管理者から
受け取ったArduino本体にセンサを接続し，生成されたスケッチを書き込むことで
センサ端末が完成する．


## 本プロジェクトの開発環境をインストールする方法
本開発環境は，ダウンロードするだけで動作するため，特別なインストール手順は存在しない．

ただし，実行にはpythonを利用するため，pythonと少数のライブラリのインストールが必要になる．

また，生成されたスケッチをArduinoにインストールするためには，Arduino IDEや
各種のライブラリ，MQTTのクライアントソフトが必要となるが，これらのインストールについては，ユーザ向けの
ドキュメント内に記述があるため，それに従ってダウンロードやインストールすしていただきたい．


## 詳細情報
具体的な手順や詳細な情報については，Docディレクトリ内の「[ドキュメント構成](Doc/Documents.md)」参照して，必要なドキュメントを
読んでください．

